---
title: "グループ API の実装"
description: "グループの CRUD と優先順位変更を行う groups.php を実装する"
status: "done"
priority: "P1"
created_at: "2026-02-25"
updated_at: "2026-02-25"
---

# グループ API の実装

## 背景・目的

グループディレクトリの登録・削除・優先順位変更を管理 UI から行えるようにする。

## 作業内容

`public/api/groups.php` に以下を実装:

- **GET** — 全グループのリストを返却。各グループの配下サブディレクトリ情報（スラグ一覧、衝突情報）も含める
- **POST** — グループディレクトリを新規登録。パスの存在チェックを行う
- **PUT** — グループの優先順位（順序）を変更
- **DELETE** — グループの削除

衝突検出ロジック:
- 複数グループに同名のサブディレクトリがある場合、先に登録されたグループが優先
- GET レスポンスに衝突情報を含めて、管理 UI で警告表示できるようにする

## 完了条件

- 4つの HTTP メソッドが正しく動作する
- 存在しないディレクトリの登録時にエラーが返る
- 衝突情報が GET レスポンスに含まれる
- 変更後に routing.map が更新される

## 関連情報

- [機能仕様 - グループ公開](../../doc/requirements/features.md)
- 依存タスク: [store-php.md](store-php.md)
